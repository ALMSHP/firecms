---
id: sample_pro
title: Sample Pro
sidebar_label: Sample
---

Let's go through the code generated by the FireCMS CLI after a PRO project is created.
FireCMS is at its core a React library, so the generated code is a React application. The code is structured in a way
that you can easily understand and modify it to fit your needs.

## Initialization and Configuration

Starting with the application's initialization, configuring Firebase and setting up various controllers is essential for the overall functionality.

### Firebase Setup

The first step involves initializing Firebase using the provided configuration. This is necessary for all Firebase-related operations throughout the app.

```jsx
const {
    firebaseApp,
    firebaseConfigLoading,
    configError
} = useInitialiseFirebase({
    firebaseConfig
});
```
This snippet sets up Firebase, checks for loading status, and handles configuration errors, ensuring a smooth setup process.

### Collection Configuration

The flexibility to configure collections directly within Firestore allows for dynamic content structure management.

```jsx
const collectionConfigController = useFirestoreCollectionsConfigController({
    firebaseApp
});
```
Using `useFirestoreCollectionsConfigController`, developers can adjust collection configurations in real-time, enhancing CMS flexibility.

### Authentication Management

Managing user authentication and permissions is critical for security and proper access control.

```jsx
const authController: FirebaseAuthController = useFirebaseAuthController({
    firebaseApp,
    signInOptions,
    loading: userManagement.loading,
    defineRolesFor: userManagement.defineRolesFor
});
```
This code sets up authentication with custom sign-in options and integrates with a user management system for role definition.

## Collections and Custom Views

Developers can define collections and views, merging predefined ones with those from the UI for a tailored content management experience.

```jsx
const collectionsBuilder = useCallback(() => {
    return mergeCollections([productsCollection], collectionConfigController.collections ?? []);
}, [collectionConfigController.collections]);
```
`mergeCollections` combines code-defined collections with UI-configured ones, enriching the CMS structure.

## Controllers and Persistence

Important for managing user preferences and navigating the CMS efficiently.

### Mode Controller & User Config Persistence

Adjusting UI preferences, like theme mode, enhances user experience.

```jsx
const modeController = useBuildModeController();
const userConfigPersistence = useBuildLocalConfigurationPersistence();
```
These controllers enable theme mode toggling and local storage of user preferences.

### Navigation Controller

Facilitates navigating the CMS, ensuring users access appropriate content based on their permissions.

```jsx
const navigationController = useBuildNavigationController({
    collections: collectionsBuilder,
    collectionPermissions: userManagement.collectionPermissions,
    views,
    adminViews: userManagementAdminViews,
    authController,
    dataSourceDelegate: firestoreDelegate
});
```
This controller leverages the built collections and permissions setup to manage navigation efficiently.

## Extending Functionality with Plugins

Plugins extend the CMS's capabilities, from data handling to user management.

```jsx
const dataEnhancementPlugin = useDataEnhancementPlugin({
    getConfigForPath: ({ path }) => path === "products"
});
const userManagementPlugin = useUserManagementPlugin({ userManagement });
const importExportPlugin = useImportExportPlugin();
const collectionEditorPlugin = useCollectionEditorPlugin({
    collectionConfigController
});
```
These plugins provide functionality for data enhancement, import/export features, user management, and collection editing through the UI.

## Authentication and Secure Access

Validating user access and authentication status ensures that only authorized users can access the CMS.

```jsx
const {
    authLoading,
    canAccessMainView,
    notAllowedError
} = useValidateAuthenticator({
    authController,
    disabled: userManagement.loading,
    authenticator: userManagement.authenticator,
    dataSourceDelegate: firestoreDelegate,
    storageSource
});
```
This snippet controls access to the main view based on the user's authentication status and permissions, directing to a login view if necessary.

## User Interface Components

The application leverages React components for loading indicators, layout structuring, and interactive elements, providing a responsive and engaging user experience.

```jsx
if (loading || authLoading) {
    component = <CircularProgressCenter size={"large"}/>;
} else if (!canAccessMainView) {
    component = <FirebaseLoginView {/* props here */}/>;
} else {
    component = <Scaffold name={name}><NavigationRoutes/><SideDialogs/></Scaffold>;
}
```
Depending on the user's authentication status and loading states, this logic determines what component to render, prioritizing a smooth user journey through the CMS.
